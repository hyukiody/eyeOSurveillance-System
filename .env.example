# ========================================
# eyeO Platform - Environment Configuration
# ========================================
# COPY THIS FILE TO .env AND CONFIGURE WITH SECURE VALUES
# ⚠️  NEVER commit .env file to version control

# ==================== Application Environment ====================
EYEO_ENV=development
# Production: production | Development: development | Staging: staging

# ==================== Database Configuration ====================
# PostgreSQL (Middleware/Sentinel)
POSTGRES_DB=sentinel
POSTGRES_USER=sentinel_user
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_MINIMUM_16_CHARS

# MySQL Identity Service
IDENTITY_DB_PASSWORD=CHANGE_IDENTITY_PASSWORD_16_CHARS_MIN
IDENTITY_MYSQL_ROOT_PASSWORD=CHANGE_ROOT_PASSWORD_16_CHARS_MIN

# MySQL Stream Processing
STREAM_DB_PASSWORD=CHANGE_STREAM_PASSWORD_16_CHARS_MIN
STREAM_MYSQL_ROOT_PASSWORD=CHANGE_STREAM_ROOT_16_CHARS_MIN

# ==================== Security Keys (CRITICAL - NEVER USE DEFAULTS IN PRODUCTION) ====================

# Master Data Protection Key (256-bit minimum, leave empty in dev to auto-generate)
# Production: Load from KMS/Vault, never hardcode
EYEO_MASTER_KEY=

# JWT Secret Key (minimum 32 characters, alphanumeric + special chars)
# Example generator: openssl rand -base64 32
JWT_SECRET_KEY=REPLACE_WITH_SECURE_RANDOM_SECRET_MINIMUM_32_CHARS

# ==================== Key Management System (Production Only) ====================
ENABLE_KMS=false
# AWS KMS Configuration
KMS_KEY_ID=
AWS_REGION=us-east-1

# Azure Key Vault Configuration
# AZURE_KEY_VAULT_URI=
# AZURE_KEY_VAULT_KEY_NAME=

# ==================== Storage Configuration ====================
STORAGE_PATH=/protected-storage
STORAGE_TYPE=LOCAL

# Production Cloud Storage (S3/Azure Blob)
# STORAGE_TYPE=S3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# S3_BUCKET_NAME=eyeo-protected-data
# S3_ENCRYPTION=AES256

# ==================== Edge Node Configuration ====================
DEVICE_ID=edge-node-001
DEVICE_TOKEN=REPLACE_WITH_DEVICE_SPECIFIC_TOKEN

# ==================== AI Detection Settings ====================
AI_DETECTION_ENABLED=true
AI_CONFIDENCE_THRESHOLD=0.5
AI_TARGET_CLASSES=person,car,dog,cat,bicycle,motorcycle
AI_MODEL_PATH=/models/yolov8n.onnx

# ==================== Frontend Configuration ====================
VITE_API_GATEWAY=https://localhost
VITE_ENABLE_CLIENT_PROCESSING=true

# ==================== Session & Security ====================
SESSION_TIMEOUT_MINUTES=30
RATE_LIMIT_PER_SECOND=10
MAX_FAILED_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_MINUTES=15

# ==================== Logging Configuration ====================
LOG_LEVEL=INFO
# Production: WARN or ERROR | Development: DEBUG or INFO

# ==================== PRODUCTION SECURITY CHECKLIST ====================
# ☐ All default passwords changed to strong, unique values (16+ chars)
# ☐ JWT_SECRET_KEY generated using cryptographically secure random generator
# ☐ EYEO_MASTER_KEY loaded from KMS/Vault (ENABLE_KMS=true)
# ☐ EYEO_ENV set to "production"
# ☐ Database passwords rotated monthly
# ☐ STORAGE_TYPE configured for cloud provider (S3/Azure)
# ☐ SSL/TLS certificates configured for all services
# ☐ LOG_LEVEL set to WARN or ERROR
# ☐ Rate limiting enabled and tuned for production load
# ☐ .env file excluded from version control (.gitignore)

# ==================== PASSWORD POLICY ====================
# Minimum Requirements:
# - 16 characters minimum length
# - Mix of uppercase, lowercase, numbers, and special characters
# - No dictionary words or common patterns
# - Rotate every 90 days in production
# 
# Recommended Generator:
# - Linux/macOS: openssl rand -base64 24
# - Windows: [System.Convert]::ToBase64String((1..24 | %{ Get-Random -Max 256 }))
# - Online (use with caution): https://passwordsgenerator.net/

# ==================== NOTES ====================
# • DO NOT modify CRYPTO_ALGORITHM without complete data migration
# • Key rotation requires re-processing all protected data
# • Contact security team before changing any security constants
